---
- name: Download sickbeard from github
  git: repo=https://github.com/midgetspy/Sick-Beard.git dest=/home/aargh/Sick-Beard update=no
  sudo: yes
  sudo_user: aargh

- name: Copy the sickbeard default config
  copy: src=sickbeard dest=/etc/default/sickbeard mode=0644 owner=root group=root
  sudo: yes

- name: Link the sickbeard init file
  file: src=/home/aargh/Sick-Beard/init.ubuntu dest=/etc/init.d/sickbeard owner=root group=root state=link
  sudo: yes

- name: Copy the autoProcessTV.cfg.sample file
  file: src=/home/aargh/Sick-Beard/autoProcessTV/autoProcessTV.cfg.sample dest=/home/aargh/.sabnzbd/scripts/autoProcessTV.cfg owner=aargh group=aargh state=file

- name: Copy the sabToSickBeard.py file
  file: src=/home/aargh/Sick-Beard/autoProcessTV/sabToSickBeard.py dest=/home/aargh/.sabnzbd/scripts/sabToSickBeard.py owner=aargh group=aargh state=file

- name: Copy the autoProcessTV.py file
  file: src=/home/aargh/Sick-Beard/autoProcessTV/autoProcessTV.py dest=/home/aargh/.sabnzbd/scripts/autoProcessTV.py owner=aargh group=aargh state=file

- name: Start sickbeard
  service: name=sickbeard state=started enabled=yes
